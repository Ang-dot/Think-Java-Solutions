package Exercises;

/**
 * Exercise 8-8 from Think Java 2016.
 * @author Quan Truong
 *
 */

public class maxInRange {
	
	public static void main(String[] args) {
		int[] a = {2,4,6,8,10,12,14,16,18,20,22,24,26,28,30};
		
		System.out.println("findInRange: " + findInRange(a, 12, 4, 7));
		System.out.println("max in range: " + maxInRange(a,4,7));
//		System.out.println(max(a));
		
		
		//maxInRange
//		System.out.println(maxInRange(a, 9, 8));
	
	}

	/**
	 * Returns the maximum value of an array in between a lowIndex and a highIndex.
	 * @param arr The array to be searched.
	 * @param lowIndex Low index.
	 * @param highIndex High index.
	 * @return The value of the highest index between lowIndex and highIndex.
	 */
	public static int maxInRange(int[] arr, int lowIndex, int highIndex) {
		//base case
		if (lowIndex == highIndex) {
			return arr[lowIndex];
		} 
//			else {
//			return -1;
//		}
		//break the array into two pieces.
		int midIndex = (lowIndex + highIndex) / 2;
		
		//lower half of index.
		//will reduce until lowIndex == highIndex. int value will round down numbers.
		int val1 = maxInRange(arr, lowIndex, midIndex);

		//higher half of index.
		int val2 = maxInRange(arr, midIndex + 1, highIndex);

		
		//unsure what if does. attempting to create a value1 larger than val2 results in stack overflow @ line 22.
		if (val1 > val2) {
			return val1;
		} else {
			return val2;
		}
	}

	public static int max(int[] arr) {
		//length-1 because .length begins counting from 1. not putting it in will cause ArrayOutOfBounds error
		return maxInRange(arr, 0, arr.length - 1);
	}

	public static int findInRange(int[] arr, int target, int lowIndex, int highIndex) {
		//if lowIndex == highIndex
		if (lowIndex == highIndex) {
			//if the lowIndex == target return lowIndex which is target
			if (arr[lowIndex] == target) {
				return lowIndex;
				//or else return -1 which means it was not found
			} else {
				return -1;
			}
		}

		//divide the array into 2 values
		int midIndex = (lowIndex + highIndex) / 2;
		System.out.println(midIndex);
		//why is only the bottom part used?
		int val1 = findInRange(arr, target, lowIndex, midIndex);
//		System.out.println(val1);
		if (val1 >= 0) {
			return val1;
		}
		return findInRange(arr, target, midIndex + 1, highIndex);
	}

	public static int find(int[] arr, int target) {
		return findInRange(arr, target, 0, arr.length - 1);
	}
}
